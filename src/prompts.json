{
    "extract_intolerances_prompt": "A partir del siguiente texto del usuario, extrae una lista JSON de intolerancias alimentarias que mencione.\n\nTexto del usuario:\n{user_text}\n\nIntolerancias ya conocidas:\n{known_intolerances}\n\nInstrucciones:\n- Devuelve una lista JSON de strings (una lista de intolerancias nuevas).\n- Solo incluye nuevas intolerancias que aparezcan explícitamente en el texto y que no estén en la lista de intolerancias conocidas.\n- No repitas intolerancias que ya existan en {known_intolerances}.\n- No expliques nada.\n\nEjemplo:\nInput:\nTexto: 'Soy intolerante a la lactosa y al gluten.'\nConocidas: [\"lactosa\"]\nOutput: [\"gluten\"]",
    "duckduckgo_query": "Alimentos prohibidos para personas intolerantes a {intolerance}",
    "extract_forbidden_foods_prompt": "A partir del siguiente texto, extrae una lista de alimentos que una persona intolerante a {intolerance} no debería consumir.\n\nTexto:\n{raw_text}\n\nInstrucciones:\n- Devuelve únicamente un JSON con una clave 'forbidden_foods' que contenga una lista de strings.\n- Cada string debe ser el nombre de un alimento prohibido (por ejemplo: 'leche', 'queso', 'nata', etc.).\n- No incluyas marcas comerciales, solo nombres de alimentos.\n- No repitas alimentos si ya han sido mencionados o estén en esta lista:\n{known_foods}.\n- No expliques nada, solo devuelve el JSON.\n\nEjemplo de output:\n{{\n  \"forbidden_foods\": [\"leche\", \"nata\", \"queso\"]\n}}",  
    "weekly_diet_prompt": "Actúa como un nutricionista profesional.\n\nUtilizando las siguientes restricciones de alimentos prohibidos:\n{forbidden_foods}\n\ny teniendo en cuenta las siguientes dietas anteriores realizadas por el usuario:\n{diet_summary}\n\nCrea un plan de comidas saludable para una semana completa (7 días), incluyendo desayuno, comida y cena cada día.\n\nInstrucciones:\n- No incluyas ningún alimento que esté en la lista de alimentos prohibidos.\n- Varía las comidas durante la semana.\n- Asegúrate de que la dieta sea equilibrada en nutrientes.\n- No expliques nada, simplemente estructura la dieta en días.\n\nFormato sugerido:\nDía 1:\n- Desayuno: ...\n- Comida: ...\n- Cena: ...\n\nDía 2:\n- ...",
    "detect_no_longer_intolerant_prompt": "Analiza el texto \"{user_text}\". Si el texto menciona explícitamente que el usuario ya no es intolerante a una o más intolerancias de la lista {previous_intolerances}, devuelve:\n- \"eliminate\": true\n- \"intolerancias\": una lista con las intolerancias que el texto nombra literalmente como superadas, siempre que estén en {previous_intolerances}\n- \"alimentos\": una lista de los alimentos de {forbidden_previous_foods} mencionados en el texto y que estén relacionados con las intolerancias eliminadas.\n\nSi el texto no menciona ninguna intolerancia explícitamente, pero sí incluye alimentos que están en {forbidden_previous_foods}, devuelve:\n- \"eliminate\": false\n- \"intolerancias\": []\n- \"alimentos\": los alimentos mencionados que estén en {forbidden_previous_foods}\n\nNo elimines intolerancias salvo que se mencionen literalmente en el texto. No incluyas alimentos que no estén mencionados en el texto ni que no estén en la lista de alimentos prohibidos. Si no hay coincidencias, devuelve todo vacío con \"eliminate\": false.",
    "router_prompt": "Clasifica la intención principal del siguiente mensaje del usuario. Mensaje: {user_message}\n\nOpciones:\n- 'intolerancias_y_dieta': Si el usuario menciona intolerancias o alergias alimentarias y además pide una dieta, menú, plan alimenticio o menú semanal en la misma frase. Ejemplos: 'Soy intolerante a la lactosa, hazme una dieta', 'Tengo alergia al gluten y quiero una dieta', 'No puedo comer huevo, ¿me haces un menú?'.\n- 'intolerancias': Si el usuario solo menciona alergias, intolerancias alimentarias o restricciones dietéticas, pero no pide dieta ni menú en la misma frase. Ejemplos: 'Soy intolerante a la lactosa', 'Tengo alergia al gluten', 'No puedo comer frutos secos'.\n- 'generar_dieta': Si el usuario solo pide una dieta, menú, plan alimenticio, menú semanal, o menciona cualquier tipo de dieta, pero no habla de intolerancias o alergias en la misma frase. Ejemplos: 'Dieta vegana', 'Menú keto', 'Quiero una dieta vegetariana', 'Plan saludable', 'Menú semanal', 'Dieta', 'Vegetariano', 'Menú sin gluten', 'Hazme una dieta para perder peso', 'Menú saludable', 'Plan semanal de comidas'.\n- 'otros': Solo si la pregunta no tiene relación con alimentación, nutrición, dietas, menús o intolerancias (por ejemplo, dudas técnicas, saludos, preguntas sobre deportes, etc).\n\nResponde solo con una de estas opciones ('intolerancias_y_dieta', 'intolerancias', 'generar_dieta', 'otros'). No expliques nada más y no añadas texto adicional.",
    "intolerancias_router_prompt": "Clasifica la intención principal del siguiente mensaje del usuario tras haber registrado intolerancias. Mensaje: {user_message}\n\nOpciones:\n- 'quiere_dieta': Si el usuario pide una dieta, menú, plan alimenticio, menú semanal o cualquier tipo de dieta (aunque sea de forma general, sin especificar tipo). Ejemplos: 'Hazme una dieta', 'Quiero un menú semanal', '¿Me haces una dieta?', 'Hazme una dieta porque soy intolerante al gluten'.\n- 'solo_intolerancias': Si solo menciona alergias, intolerancias alimentarias o restricciones dietéticas, pero no pide dieta ni menú en la misma frase. Ejemplos: 'Soy intolerante a la lactosa', 'Tengo alergia al gluten', 'No puedo comer frutos secos'.\n\nResponde solo con una de estas opciones ('quiere_dieta', 'solo_intolerancias'). No expliques nada más y no añadas texto adicional."

}
